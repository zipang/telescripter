!function(t,e){function n(t){if("["!==t[0])return!1;var e={},n=t.split("]"),r=0,i=1,s=2,o=n[0].substr(1).split(",");return e.prompt=["<span ",o[i]?"style='color: "+o[i]+";' ":"","class='prompt",o[s]?" "+o[s]:"","'>",o[r],"</span>"].join(""),e.text=n[1],e}function r(t,n){this.$display=e(t),this.options=n,n.source||(n.source=this.$display.text()),n.autostart&&this.start()}var i={autostart:!0,autoloop:!0,cursor:!0,prompt:"> ",pageDelay:2500,lineDelay:500,charDelay:150},s='<span class="cursor">',o="</span>";e.extend(r.prototype,{start:function(){var t=0,e=this.rendering?this.stop():this.init(),n=e.pages,r=e.pages.length,i=function(){e.rendering&&r>t?(e.printPage(n[t],t,i),t++):e.rendering&&e.options.autoloop&&(t=0,requestAnimationFrame(i))};return e.rendering=!0,i(),e},init:function(){var t=this.options.source;return"string"==typeof t&&(t=t.split("\n\n")),this.pages=t,this},cls:function(t){return this.$renderElt=e("<div>"),this.$display.empty().append(this.$renderElt),this.text="",t&&this.refreshScreen(this.options.prompt),this},append:function(t){return this.refreshScreen(this.text+t)},newline:function(t){return this.append("<br>"+(t||this.options.prompt)),this},refreshScreen:function(t){var e=this,n=e.text=t,r=t.length;return e.options.cursor&&(n=t.substr(0,r-1)+s+t[r-1]+o),e.$renderElt.html(n),e},displayRandomPage:function(t){var e=Math.floor(Math.random()*this.pages.length);return this.displayPage(e,t)},displayPage:function(t,e){var n=this.rendering?this.stop():this.init();return n.rendering=!0,n.printPage(n.pages[t],t,e),n},printPage:function(t,e,r){var i=0,s=this,o=t.split("\n"),a=s.options.lineDelay,p=o.length,u=function(){s.rendering&&(p>i?requestAnimationFrame(s.resume=function(){var t=s.options.prompt,e=o[i],r=n(e);r&&(e=r.text,t=r.prompt),s.newline(t),s.rendering=setTimeout(function(){s.printLine(e,i,u),i++},a)}):s.rendering=r?setTimeout(r,s.options.pageDelay):!1)};return s.cls(),s.$renderElt.trigger("newpage",[e+1]),u(),s},printLine:function(t,e,n){var r=t.split(""),i=this,s=0,o=r.push(" "),a=i.options.charDelay,p=function(){requestAnimationFrame(i.resume=function(){i.rendering!==!1&&(o>s?(i.refreshScreen(i.text+r[s++]),i.rendering=setTimeout(p,a)):(i.$renderElt.trigger("newline",[e+1]),n()))})};p()},stop:function(){return clearTimeout(this.rendering),this.rendering=!1,this},pauseResume:function(){var t=this;return t.rendering?t.stop():(t.rendering=!0,t.resume())}}),e.fn.telescripter=function(t){return e(this).each(function(n,s){var o=e.extend({},i,t),a=new r(s,o);e(s).data("telescripter",a).on("start",function(){a.start()}).on("stop",function(){a.stop()})})}}(this,jQuery);