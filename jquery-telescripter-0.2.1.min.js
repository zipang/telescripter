!function(t,n){function e(t){if("["!==t[0])return!1;var n={},e=t.split("]"),r=0,i=1,s=2,o=e[0].substr(1).split(",");return n.prompt=["<span ",o[i]?"style='color: "+o[i]+";' ":"","class='prompt",o[s]?" "+o[s]:"","'>",o[r],"</span>"].join(""),n.text=e[1],n}function r(t,e){this.$display=n(t),this.options=e,e.source||(e.source=this.$display.text()),e.autostart&&this.start()}var i={autostart:!0,autoloop:!0,prompt:"> ",pageDelay:2500,lineDelay:500,charDelay:150};n.extend(r.prototype,{start:function(){var t=0,n=this.rendering?this.stop():this.init(),e=n.pages,r=n.pages.length,i=function(){n.rendering&&r>t?(n.printPage(e[t],t,i),t++):n.rendering&&n.options.autoloop&&(t=0,requestAnimationFrame(i))};return n.rendering=!0,i(),n},init:function(){var t=this.options.source;return"string"==typeof t&&(t=t.split("\n\n")),this.pages=t,this},cls:function(t){return this.$renderElt=n("<div>"),this.$display.empty().append(this.$renderElt),this.text="",t&&this.refreshScreen(this.options.prompt),this},append:function(t){return this.refreshScreen(this.text+t),this},newline:function(t){return this.append("<br>"+(t||this.options.prompt)),this},refreshScreen:function(t){return this.text=t,this.$renderElt.html(t),this},displayRandomPage:function(t){var n=this.rendering?this.stop():this.init(),e=Math.floor(Math.random()*n.pages.length);return n.rendering=!0,n.printPage(n.pages[e],e,t),n},printPage:function(t,n,r){var i=0,s=this,o=t.split("\n"),p=s.options.lineDelay,a=o.length,u=function(){s.rendering&&(a>i?requestAnimationFrame(function(){var t=s.options.prompt,n=o[i],r=e(n);r&&(n=r.text,t=r.prompt),s.newline(t),s.rendering=setTimeout(function(){s.printLine(n,i,u),i++},p)}):s.rendering=r?setTimeout(r,s.options.pageDelay):!1)};return s.cls(),s.$renderElt.trigger("newpage",[n+1]),u(),s},printLine:function(t,n,e){var r=t.split(""),i=this,s=0,o=r.length,p=i.options.charDelay,a=function(){var t=i.rendering;requestAnimationFrame(function(){i.rendering==t&&(o>s?(i.refreshScreen(i.text+r[s++]),i.rendering=setTimeout(a,p)):(i.$renderElt.trigger("newline",[n+1]),e()))})};a()},stop:function(){return clearTimeout(this.rendering),this.rendering=!1,this}}),n.fn.telescripter=function(t){return n(this).each(function(e,s){var o=n.extend({},i,t),p=new r(s,o);n(s).data("telescripter",p).on("start",function(){p.start()}).on("stop",function(){p.stop()})})}}(this,jQuery);